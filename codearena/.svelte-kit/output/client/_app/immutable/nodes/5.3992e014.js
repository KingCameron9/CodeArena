import{s as A,g as v,c as C,h as g,i as R,L as S,d as P,j as b,k as w,w as U,f as G}from"../chunks/scheduler.201f007e.js";import{S as J,i as K,d as B,v as Q,e as z,g as d,a as M,n as f,o as W}from"../chunks/index.235626ab.js";import{g as V}from"../chunks/navigation.653fb3a1.js";import{d as D,g as q,a as F,s as H}from"../chunks/firebase.92351020.js";import{j as L}from"../chunks/gameInfo.024111f2.js";const x="src/routes/join/+page.svelte";function N(o){let t,e="Game not found";const l={c:function(){t=v("p"),t.textContent=e,this.h()},l:function(i){t=g(i,"P",{style:!0,"data-svelte-h":!0}),S(t)!=="svelte-71nb8w"&&(t.textContent=e),this.h()},h:function(){b(t,"color","red"),b(t,"position","fixed"),b(t,"top","80%"),w(t,x,46,12,1172)},m:function(i,s){M(i,t,s)},d:function(i){i&&z(t)}};return B("SvelteRegisterBlock",{block:l,id:N.name,type:"if",source:"(32:8) {#if codeFailed}",ctx:o}),l}function T(o){let t,e,l,p="Helix",i,s,m,u,j,c,E="Click to join",n,_,y,a=o[2]&&N(o);const O={c:function(){t=v("div"),e=v("div"),l=v("p"),l.textContent=p,i=C(),s=v("input"),m=C(),u=v("input"),j=C(),c=v("button"),c.textContent=E,n=C(),a&&a.c(),this.h()},l:function(h){t=g(h,"DIV",{class:!0});var I=R(t);e=g(I,"DIV",{class:!0});var r=R(e);l=g(r,"P",{style:!0,"data-svelte-h":!0}),S(l)!=="svelte-9jl68k"&&(l.textContent=p),i=P(r),s=g(r,"INPUT",{placeholder:!0,type:!0,class:!0}),m=P(r),u=g(r,"INPUT",{placeholder:!0,type:!0,class:!0}),j=P(r),c=g(r,"BUTTON",{style:!0,class:!0,"data-svelte-h":!0}),S(c)!=="svelte-19pwk96"&&(c.textContent=E),n=P(r),a&&a.l(r),r.forEach(z),I.forEach(z),this.h()},h:function(){b(l,"font-size","30px"),w(l,x,40,8,817),d(s,"placeholder","code"),d(s,"type","text"),d(s,"class","input-text s-kxj4EvwaIzwE"),w(s,x,41,8,862),d(u,"placeholder","username"),d(u,"type","text"),d(u,"class","input-text s-kxj4EvwaIzwE"),w(u,x,42,8,950),b(c,"margin","20px"),d(c,"class","input-text s-kxj4EvwaIzwE"),w(c,x,43,8,1042),d(e,"class","input-container s-kxj4EvwaIzwE"),w(e,x,39,4,779),d(t,"class","input-page-container s-kxj4EvwaIzwE"),w(t,x,38,0,740)},m:function(h,I){M(h,t,I),f(t,e),f(e,l),f(e,i),f(e,s),o[4](s),f(e,m),f(e,u),o[5](u),f(e,j),f(e,c),f(e,n),a&&a.m(e,null),_||(y=W(c,"click",o[3],!1,!1,!1,!1),_=!0)},p:function(h,[I]){h[2]?a||(a=N(h),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i:U,o:U,d:function(h){h&&z(t),o[4](null),o[5](null),a&&a.d(),_=!1,y()}};return B("SvelteRegisterBlock",{block:O,id:T.name,type:"component",source:"",ctx:o}),O}function X(o,t,e){let{$$slots:l={},$$scope:p}=t;Q("Page",l,[]);let i,s,m=!1;async function u(){let n=i.value,_=s.value,y="/games/"+n,a=await q(D(F(),y));_.length<1||n.length<1||(a.exists()?(y+="/players/"+_,L.set({code:n,name:_}),await H(D(F(),y),{uid:Math.random(),points:0}),V("/game/")):e(2,m=!0))}const j=[];Object.keys(t).forEach(n=>{!~j.indexOf(n)&&n.slice(0,2)!=="$$"&&n!=="slot"&&console.warn(`<Page> was created with unknown prop '${n}'`)});function c(n){G[n?"unshift":"push"](()=>{i=n,e(0,i)})}function E(n){G[n?"unshift":"push"](()=>{s=n,e(1,s)})}return o.$capture_state=()=>({goto:V,doc:D,getDoc:q,getFirestore:F,setDoc:H,joinInfo:L,codeInput:i,nameInput:s,codeFailed:m,joinGame:u}),o.$inject_state=n=>{"codeInput"in n&&e(0,i=n.codeInput),"nameInput"in n&&e(1,s=n.nameInput),"codeFailed"in n&&e(2,m=n.codeFailed)},t&&"$$inject"in t&&o.$inject_state(t.$$inject),[i,s,m,u,c,E]}class nt extends J{constructor(t){super(t),K(this,t,X,T,A,{}),B("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:T.name})}}export{nt as component};
